Начнём с понимания какие user-флоу у нас бывают (пользовательские пути, алгоритмы).

Есть несколько флоу:
- Регистрация пользователя
- Аутентификация / Log in / Sign in (вход в систему)
- Аутентифицированный user (все запросы в систему)
### Регистрация

Можно осуществить через разные поля, рассмотрим через пароль и почту.
![[Pasted image 20251024051412.png]]
Порядок: ввод логина и пароля -> получние данных на бэкенде -> [[Проверка существования пользователя]] ( проверка на то, что пользователя нет) -> преобразование пароля в хэш -> отправка в базу данных.

Далее в зависимости от логики платформы может быть:
- Успешная регистрация и просьба аутентифицироваться для входа.
- Успешная регистрация и последующая аутентификация.

### Аутентификация / Log in / Sign in

![[Pasted image 20251024052128.png]]
Порядок: ввод логина и пароля -> получние данных на бэкенде -> проверка существования пользователя ( проверка на то, что пользователь есть) -> генерация токена.
### Аутентифицированный user

Этап для тех кто уже зашёл в систему (большинство запросов).
Здесь каждый запрос будет проверяться на наличие прав (авторизация).
![[Pasted image 20251024052951.png]]
Порядок: токен (с прошлого этапа, хранится где-то) -> проверка валидности токена (запросы обрабатываются через этот токен и он каждый раз валидируется) -> выполнение бизнес логики (ручки, эндпоинты).


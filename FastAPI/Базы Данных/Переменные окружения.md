Это чувствительные данные, которые мы храним в секретном месте (файле [[env]]).

Как выглядит файл env внутри:
```python
DB_NAME=название  
DB_PORT=порт  
DB_HOST=название_хоста 
DB_USER=имя_пользователя  
DB_PASS=пароль_пользоватея
```

Чтобы переменные окружения достать будет использоваться библиотека (расширение) от [[Pydantic]] - <mark style="background: #ABF7F7A6;">pydantic-settings</mark>.

Создадим файл [[config]].py и напишем:
```python
from pydantic_settings import BaseSettings, SettingsConfigDict

class Settings(BaseSettings):  
    DB_NAME: str  
    DB_PORT: int  
    DB_HOST: str  
    DB_USER: str  
    DB_PASS: str  
	
    @property  
    def DB_URL(self):  
        return f"postgresql+asyncpg://{self.DB_USER}:{self.DB_PASS}@{self.DB_HOST}:{self.DB_PORT}/{self.DB_NAME}"  
	
    model_config = SettingsConfigDict(env_file=".env")  
  
settings = Settings()
```

<mark style="background: #FFF3A3A6;">model_config = SettingsConfigDict(env_file=".env")</mark>  - запись говорит о том, откуда нужно взять данные для класса Settings. 

<mark style="background: #FFF3A3A6;">DB_URL</mark> - это метод (свойство), которое будет возращать нам URL-адрес базы данных для подключения к ней. ^2bb4c4 

Указывается в формате DSN - строки подключения и выглядит так:
```python
f"""
postgresql+asyncpg: # название асинхронного движка asyncpg
//{self.DB_USER}
:{self.DB_PASS}
@{self.DB_HOST}
:{self.DB_PORT}
/{self.DB_NAME}
"""
```
### Возможные ошибки

#### При лишней переменной в env, которую не указали в Settings.
Решение через:
```python
model_config = SettingsConfigDict(env_file=".env", extra"ignore") 
```
<mark style="background: #FFF3A3A6;">extra"ignore"</mark> - игнорирует лишние переменные окружения в env
#### Если в env ничего нет, а в Settings есть
Решения как таково нет, можно конечно задавать значения по умолчанию, но так лучше не делать.
```python
class Settings(BaseSettings):  
    DB_NAME: str | None = None
    
    model_config = SettingsConfigDict(env_file=".env") 
```

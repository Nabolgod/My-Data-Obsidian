#функции #бд #фильтрация 
В народе Алхимия - популярная ORM для работы с БД. ORM - объектно-реляционные отображения. Объекты - классы в Python, реляции (или отнощения) - таблицы в БД.

Это обёртка, которая работает с движком ([[Engine]]) для "похода" в базу данных. Движки бывают разные, синхронные, асинхронные.

Сама алхимия работет с результатами того, что вернул движок.

Несмотря на то, что многие знают и любят писать сырые SQL запросы через Python, порой гораздо удобнее писать их на "питонячьем" языке, то есть используя так называемый ORM. ORM — object-relational mapping или объектно-реляционное отображение — это способ взаимодействия приложения с базой данных посредством синтаксиса языка, на котором написано приложение. Объекты — это представление таблиц (реляций) на языке программирования (в нашем случае Python). Например, для простой выборки данных из таблицы **users** вместо запроса
```python
query = "SELECT * FROM users"
```
на языке SQL мы можем использовать синтаксис языка Python для написания точно такого же запроса через:
```python
query = select(Users)
```

Понятное дело, что под капотом функции select и класса Users находится указание на язык SQL. Для Python есть одна невероятно популярная библиотека, которая дает возможность писать SQL запросы, используя конструкции языка Python — она называется SQLAlchemy. SQLAlchemy сама не отправляет запросы в БД, для этих целей она использует уже готовые библиотеки, называемые драйверами, например, psycopg2 или asyncpg. SQLAlchemy дает возможность формировать как сырые SQL запросы, так и писать через ORM.

Плюсы SQLAlchemy:

1. При использовании Алхимии можно работать с таблицами как с объектами на "питонячем" языке
2. Алхимия защищает нас от [SQL-инъекций](https://habr.com/ru/articles/148151/)
3. Алхимия позволяет абстрагироваться от конкретной СУБД при написании запросов. Это позволяет сменить используемую базу данных, например, с MySQL на Postgres без больших трудностей